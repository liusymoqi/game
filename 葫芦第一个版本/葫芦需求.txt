《鸣潮》游戏的专属游戏工具，有以下需求： 
@软件名字为《葫芦》，在软件主界面可以选择使用某个功能模块，然后进入该功能模块的详细设置界面。
代码结构与功能：
    1.程序入口代码： main.py
    2.ui代码文件夹：ui
        1.主界面UI：main_window.py
        2.声骸整理界面UI：echo_sort_ui.py
    3.声骸整理功能文件夹：echo_sort
        1.主功能流程：echo_sort.py
        2.打开声骸背包功能：open_backpack.py    更换筛选标签功能
        4.读取声骸信息功能：echo_data.py    锁定弃置判断功能
    4.工具文件夹utils
        1.游戏基本操作工具：game_controller.py 
            2.操控鼠标点击所提供的图像的方法
            5.切换游戏页面的方法
                 .有关游戏基本操作的其它方法
            2.图像识别工具image_tool
                1.识别图像是否存在
                2.识别图像中文字信息并返回
                 .有关图像识别的其它方法
    5.数据文件夹data
        1.echo.json：声骸所有套装及效果和对应cost有哪些声骸
        3.cost.json：声骸不同cost可选词条数据
        4.default_rules.json 默认声骸锁定及弃置词条数据
        5.默认声骸词条得分数据
        6.设置声骸锁定及弃置词条数据
        7.设置声骸词条得分数据
    6.图片资源文件夹image
            各种参考图片
一.声骸整理
    主界面分为两个区域，有一个“开始整理”按钮：
        锁定设置区域包含：
            套装名称区域
            锁定词条显示区域
        所有套装都罗列在此区域，每个套装名称后面动态显示设置的锁定词条。
        点击套装名称，出现下拉列表，可以选择要锁定的词条，下拉列表中词条可多选，反选，全选。选择后，将选择的词条添加至锁定词条显示区域

        弃置设置区域包含：
            套装名称区域
            弃置词条显示区域
        所有套装都罗列在此区域，每个套装名称后面动态显示设置的锁定词条。
        点击套装名称，出现下拉列表，可以选择要弃置的词条，下拉列表中词条可多选，反选，全选。选择后，将选择的词条添加至弃置词条显示区域
    #主界面基本已经实现，需添加部分优化
        1.新增输入框：要处理的声骸个数：
        2.添加可选项：只整理新声骸、直接开始整理
    整理功能实现：
            点击开始整理按钮实现声骸整理
                @1.识别当前窗口是否为游戏窗口，不是则将游戏窗口设置为当前窗口
                @2.通过识别是否存在“编队图标”图片，识别是否进入游戏界面，不是则重试并提示
                @3.按B键打开背包，等待背包界面打开，通过识别“背包关闭按钮”图片判断是否打开，未打开则重试并提示，正常打开
                @4.通过识别“筛选选项图标”图片判断是否为声骸背包，不是则操控鼠标点击选择声骸背包
            #基本实现，优化为若在主界面则进行23，若不在主界面返回主界面
                @5.通过识别“获得时间排序”图片判断是否为按获得时间排序，不是则操控鼠标点击调整排列顺序，等待排列顺序列表打开，通过“排列顺序列表”图片判断是否打开
                @6.点击调整排列顺序为按时间排序，并通过识别“获得时间排序”图片判断是否调整为按获得时间排序
                @7.将从265*430开始的的区域的图片保存起来，命名为“second_echo”图片保存在image文件夹下，若已有则替换，这一步处理图片的操作要整合在image_tool里，方便后续换行处理声骸     
                @8.定义一个计数器包含：deal_sum=0，deal_num=0，past=0，若此时deal_num不小于10，则将deal_num重置为0，并滑动滚轮下一排，首次滑动两次933，后续一次933
            #若滚动后，首排声骸不变则进行lost_echo_sort
                @9.点击(375 + deal_num * 220, 275)位置选择声骸，读取屏幕右侧声骸信息（该功能整合在gamecontroller里,使用EasyOCRpip），包括声骸名（文字识别，从2600*150开始的750*80区域）、cost及等级（文字识别，从3135*265开始的200*130区域）、所属套装（图像识别，从2790*400开始的60*60区域，对比image目录下echo_kind文件夹里的套装图标）、主词条（文字识别,从2600*525开始的740*475区域）、是否已锁定（从3070*410开始的260*70区域）、是否已弃置（从3070*410开始的260*70区域），读取失败则重试三次并提示，读取成功则记录读取信息进行下一步
            #基本实现，优化：声骸名识别需优化，识别出的声骸信息需输出保存，优化点击前，若deal_num>0，past<10先识别是否为新声骸，新声骸则整理，否则deal_num+1，past+1，再次判断
                @10.比较echo.json里，“name”是否在对应“cost”下出现，没有则返回信息，有则返回对应套装名，与设置的规则里同套装名下同“cost”下，lock有无数据=“attr1”，有则检查”locked”是否为“true”是则返回信息，否则摁c，无则同“cost”下discard有无数据=“attr1”，有则检查”discarded”是否为“true”是则返回信息，否则摁z若都不是，则返回信息，并跳过该声骸
                @11.按C键锁定声骸，并通过“已锁定图标”图片判断是否锁定成功，或按Z键弃置声骸，并通过“已弃置图标”图片判断是否弃置成功
            #优化，输出声骸信息到日志
                12.deal_num+1，deal_sum+1，deal_num为设定值时，暂停，否则重复9
            @在整理过程中，按esc键则可以暂停整理并返回程序界面

二.声骸批量强化
    界面：  
        1.套装选择下拉条
        2.选择区域
            1.所选套装下所有可供强化声骸名 （反选全选按钮）
            2.所要强化的主词条限制（可多选，当多选时，按照选择顺序记录优先顺序）
        3.数值填写区域
            词条权重：              
                例如暴击3，就是暴击满分为30分，基础分为20分
                后面跟有建议：暴击3暴击伤害3大攻击2其他可用1
            分值要求：等级5/等级10/等级15/等级20/等级25     
                满分100，例如暴击权重3，数值为8.9%，得分为(3-1)*10+{8.9-6.3（min）}*{10/[10.5（max）-6.3（min）]}： 6.3%∼10.5%
                15/25/50/60/70
        4.开始强化按钮
        5.可选项：弃置不达标声骸、出现达标声骸停止、消耗声骸
        6.输入框：要处理的声骸个数：
        7.声骸分值计算展示
            小词条数值输入框
            按所填权重计算分数
    强化功能实现：
    1.点击进入声骸配置界面
    2.点击进入声骸选择界面
    3.点击筛选套装，选取对应套装
    4.点击筛选条件，按照要求选择主词条
    5.选取声骸
    6.读取声骸信息
    7.打分，判断符合条件
    8.点击培养
    9.调整为阶段放入，根据可选项调整放入材料
    10.点击强化，识别等级
    11.点击进入调谐界面
    12.点击调谐，更新词条分数并打分
    13.判断声骸分数是否合格，如果合格，则回到强化界面并重复10步，如果不合格则根据可选项选择弃置或退出
    14.若声骸标记弃置或升满级并调谐结束，则记录合格声骸信息返回上一界面，读取下一声骸信息
    15.全部强化完毕，或材料用完或数量达标或无符合条件声骸，结束，返回信息

三.声骸配装优化
    可设置对应角色，设置选择套装，设置可供选择的声骸，设置最低属性要求，设置属性重要性
    1.进入角色界面
    2.进入声骸配置界面
    3.进入声骸选择界面
    4.选取对应套装
    5.筛选所供选择的声骸
    6.读取所有可供选择的声骸信息
    7.选择可符合最低属性要求并可使重要性属性尽可能高的搭配

四.角色数据读取与伤害计算
    可设置对应角色，可读取游戏内角色数据，也可自由填入角色数据，可选择套装buff或角色buff，计算得出角色普攻、共鸣技能、共鸣链、共鸣解放以及特殊攻击等的伤害
    读取角色数据功能：
    1.进入角色界面
    2.进入属性详情界面
    3.读取属性详情
    4.反馈属性详情
    计算功能：
    按照每个角色的伤害倍率和所提供的角色属性实时计算伤害

必要的声骸信息
    一、声骸套装列表及效果
        1.沉日劫明
            2件套：湮灭伤害提升10%。
            5件套：使用普攻或重击后，湮灭伤害提升7.5%，最多叠加4层，持续15秒。
        2.凝夜白霜
            2件套：冷凝伤害提升10%。
            5件套：使用普攻或重击后，冷凝伤害提升10%，最多叠加3层，持续15秒。
        3.彻空鸣雷
            2件套：导电伤害提升10%。
            5件套：使用重击或共鸣技能后，导电伤害提升15%，最多叠加2层，持续15秒。
        4.熔山裂谷
            2件套：热熔伤害提升10%。
            5件套：使用共鸣技能后，热熔伤害提升30%，持续15秒。
        5.啸谷长风
            2件套：气动伤害提升10%。
            5件套：使用变奏技能登场后，气动伤害提升30%，持续15秒。
        6.浮星祛暗
            2件套：衍射伤害提升10%。
            5件套：使用变奏技能登场后，衍射伤害提升30%，持续15秒。
        7.隐世回光
            2件套：治疗效果提升10%。
            5件套：使用延奏技能后，全队攻击力提升15%，持续30秒。
        8.轻云出月
            2件套：共鸣效率提升10%。
            5件套：使用延奏技能后，下一个登场角色攻击力提升22.5%，持续15秒。
        9.不绝余音
            2件套：攻击力提升10%。
            5件套：在场时，自身攻击力每1.5秒提升5%，最多叠加4层；延奏伤害提升60%。
        10.凌冽决断之心
            2件套：共鸣技能伤害提升12%。
            5件套：施放共鸣解放后6秒内，冷凝伤害和共鸣技能伤害均提升30%
        11.无惧浪涛之勇
            2件套：生命值提升10%。
            5件套：护盾存在时生命上限提升20%；角色生命值降低时，暴击率每1秒提升5%，最多叠加3层
        12.幽夜隐匿之帷
            2件套：湮灭属性伤害提升10%。
            5件套：延奏技能离场时，对周围敌人造成480%湮灭伤害，并提升下个登场角色的湮灭伤害15%
        13.此间永驻之光
            2件套：衍射伤害提升10%。
            5件套：施加“光噪效应”时暴击率提升20%；攻击10层光噪效果的敌人时，衍射伤害提升15%
        14.高天共奏之曲
            2件套：共鸣效率提升10%。
            5件套：协同攻击伤害提升80%，暴击时全队攻击力提升20%（持续4秒）

    二、声骸词条
        声骸的主词条根据COST值不同而有所差异，具体如下：
            C4声骸（4 COST）
                随机主词条：暴击率、暴击伤害、百分比攻击力、百分比防御、百分比生命值、百分比治疗效果。
            C3声骸（3 COST）
                随机主词条：属性伤害加成（有湮灭、冷凝、导电、热熔、衍射、气动）、百分比攻击力、共鸣效率、百分比防御、百分比生命值。
            C1声骸（1 COST）
                随机主词条：百分比攻击力、百分比防御、百分比生命值。

        声骸的副词条与cost值无关，可能有0-5条，取决于声骸等级与具体强化情况，词条有以下可能：
        百分比属性：共鸣效率、暴击率、暴击伤害、攻击百分比、防御百分比、生命百分比。
        数值属性：固定攻击力、固定防御值、固定生命值。
        伤害加成属性：普攻伤害加成、重击伤害加成、共鸣技能伤害加成、共鸣解放伤害加成

        无论是主词条还是副词条，每个词条都会有具体数值
        暴击率： 6.3%∼10.5%
        暴击伤害： 11.4%∼21%11.4%∼21% 。
        百分比攻击/生命： 6%∼11.6%
        普攻/重击/共鸣技能/共鸣解放伤害加成： 6%∼11.6%
        百分比防御： 8.1%∼14.7%
        共鸣效率： 6.8%∼12.4%
        固定生命值： 320∼580
        固定攻击/防御： 30∼50
        

    三、全部声骸分类
        沉日劫明套装
            COST1 声骸：审判战士、冷凝棱镜、呜咔咔、湮灭棱镜、刺玫菇（稚形）、啾啾河豚、遁地鼠
            COST3 声骸：振铎乐师、暗鬃狼、刺玫菇
            COST4 声骸：梦魇・无冠者、无妄者、无冠者

        凝夜白霜套装
            COST1 声骸：叮咚咚、破霜猎手、寒霜陆龟、咕咕河豚、冷凝棱镜、热熔棱镜、遁地鼠、碎獠猪
            COST3 声骸：游鳞机枢、雪鬃狼、巡哨机傀、振铎乐师、刺玫菇
            COST4 声骸：辉萤军势

        彻空鸣雷套装
            COST1 声骸：绿熔蜥（稚形）、鸣泣战士、通行灯偶、衍射棱镜、湮灭棱镜、巡徊猎手、惊蛰猎手、先锋幼岩、裂变幼岩
            COST3 声骸：巨布偶、游鳞机枢、奏谕乐师、紫羽鹭
            COST4 声骸：梦魇・朔雷之鳞、梦魇・云闪之鳞、云闪之鳞、朔雷之鳞

        熔山裂谷套装
            COST1 声骸：咔嚓嚓、热熔棱镜、绿熔蜥（稚形）、鸣泣战士、融火虫、火鬃狼、通行灯偶、衍射棱镜、惊蛰猎手
            COST3 声骸：巨布偶、绿熔蜥、暗鬃狼、紫羽鹭
            COST4 声骸：梦魇・燎照之骑、燎照之骑

        啸谷长风套装
            COST1 声骸：鸣泣战士、通行灯偶、呼咻咻、啾啾河豚、巡徊猎手、幼猿、碎獠猪、侏侏驼、刺玫菇（稚形）
            COST3 声骸：青羽鹭、戏猿、车刃镰
            COST4 声骸：梦魇・飞廉之猩、飞廉之猩

        浮星祛暗套装
            COST1 声骸：寂寞小姐、叮咚咚、破霜猎手、寒霜陆龟、咕咕河豚、阿嗞嗞、衍射棱镜、游弋蝶、审判战士、湮灭棱镜
            COST3 声骸：巡哨机傀、踏光兽、磐石守卫、青羽鹭
            COST4 声骸：角、哀声鸷

        隐世回光套装
            COST1 声骸：火鬃狼、咔嚓嚓、游弋蝶、呜咔咔、呼咻咻、先锋幼岩、裂变幼岩、侏侏驼
            COST3 声骸：磐石守卫、冥渊守卫、戏猿、坚岩斗士
            COST4 声骸：鸣钟之龟、无归的谬误

        轻云出月套装
            COST1 声骸：寂寞小姐、冷凝棱镜、阿嗞嗞、游弋蝶、呼咻咻、晶螯蝎、裂变幼岩、碎獠猪
            COST3 声骸：雪鬃狼、绿熔蜥、车刃镰、箭簇熊、坚岩斗士
            COST4 声骸：鸣钟之龟、无常凶鹭

        不绝余音套装
            COST1 声骸：寂寞小姐、热熔棱镜、绿熔蜥（稚形）、融火虫、咔嚓嚓、阿嗞嗞、呜咔咔、幼猿、晶螯蝎、先锋幼岩
            COST3 声骸：冥渊守卫、奏谕乐师、箭簇熊
            COST4 声骸：聚械机偶

        凌冽决断之心套装
            COST1 声骸：愚金幼岩、风鬃狼、欺诈奇藏、寂寞小姐、魔术先生、浮灵偶・莱特、浮灵偶・蕾弗
            COST3 声骸：巨布偶、凝水贵族、毒冠贵族、巡游骑士
            COST4 声骸：异构武装

        无惧浪涛之勇套装
            COST1 声骸：气动棱镜、釉变幼岩、工头布偶、寂寞小姐、浮灵偶・莱特、浮灵偶・蕾弗、浮灵偶・海德
            COST3 声骸：飓力熊、浮灵偶、持刃贵族、幻昼骑士
            COST4 声骸：叹息古龙

        幽夜隐匿之帷套装
            COST1 声骸：霜鬃狼、雷鬃狼、欺诈奇藏、云海妖精、幽翎火
            COST3 声骸：巨布偶、持刃贵族、暗夜骑士、巡游骑士
            COST4 声骸：梦魇・无常凶鹭、罗蕾莱

        此间永驻之光套装
            COST1 声骸：气动棱镜、愚金幼岩、霜鬃狼、工头布偶、幽翎火、浮灵偶・海德
            COST3 声骸：重塑雕像的拳砾、琉璃刀伶、凝水贵族、幻昼骑士
            COST4 声骸：梦魇・哀声鸷

        高天共奏之曲套装
            COST1 声骸：釉变幼岩、雷鬃狼、风鬃狼、欺诈奇藏、魔术先生、云海妖精
            COST3 声骸：琉璃刀伶、浮灵偶、毒冠贵族、暗夜骑士
            COST4 声骸：梦魇・朔雷之鳞、赫卡忒
    四、默认默认的锁定和弃置规则
        其中：沉日劫明套装凝夜白霜套装彻空鸣雷套装熔山裂谷套装啸谷长风套装浮星祛暗套装这些套装，cost1锁定攻击百分比，弃置防御百分比、生命值百分比。cost3锁定对应属性伤害和攻击百分比，弃置非对应属性伤害和共鸣效率、百分比防御、百分比生命值。cost4锁定暴击、暴击伤害，弃置百分比攻击力、防御、生命值、治疗效果。
        隐世回光套装cost1不做操作，cost3弃置各种属性伤害，cost4锁定治疗效果
        轻云出月套装cost1锁定攻击，弃置生命值、防御。cost3锁定共鸣效率，弃置各种属性伤害，cost4锁定暴击、暴击伤害，弃置百分比攻击力、防御、生命值、治疗效果。
        不绝余音套装cost1锁定攻击，弃置生命值、防御。cost3锁定攻击，弃置共鸣效率、百分比防御、百分比生命值。cost4锁定暴击、暴击伤害，弃置百分比攻击力、防御、生命值、治疗效果。
        凌冽决断之心套装cost1锁定攻击，弃置生命值、防御。cost3锁定攻击、冷凝属性伤害，弃置其他属性伤害、共鸣效率、百分比防御、百分比生命值。cost4锁定暴击、暴击伤害，弃置百分比攻击力、防御、生命值、治疗效果。
        无惧浪涛之勇套装cost1锁定生命值，弃置攻击、防御。cost3锁定生命值，弃置共鸣效率、百分比防御。cost4锁定暴击、暴击伤害，弃置百分比攻击力、防御、生命值、治疗效果。
        幽夜隐匿之帷套装cost1锁定攻击，弃置生命值、防御。cost3锁定攻击、湮灭属性伤害，弃置其他属性伤害、共鸣效率、百分比防御、百分比生命值。cost4锁定暴击、暴击伤害，弃置百分比攻击力、防御、生命值、治疗效果。
        此间永驻之光套装cost1锁定攻击，弃置生命值、防御。cost3锁定攻击、衍射属性伤害，弃置其他属性伤害、共鸣效率、百分比防御、百分比生命值。cost4锁定暴击、暴击伤害，弃置百分比攻击力、防御、生命值、治疗效果。
        高天共奏之曲套装cost1锁定攻击，弃置生命值、防御。cost3锁定攻击、共鸣效率，弃置百分比防御、百分比生命值。cost4锁定暴击、暴击伤害，弃置百分比攻击力、防御、生命值、治疗效果。
你需要指导我完成这个软件，在这个过程中有以下要求
1.步骤清晰无误，先后逻辑明确
2.代码正确无误，并且每部分代码都要有很详细注释，例如每个参量的含义和作用
3.代码做好分类，不同模块的代码要分文件夹放置，不同功能的代码要分文件放置。
4.代码要完整，不需要我自己再添加更改
5.开发工具使用vscode
6.每部分代码在更改时标明在哪个文件里
7.不添加没有要求的功能和代码

